<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../group_project_1/assets/css/style.css">
    <link href='https://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet'>
    <link rel="stylesheet" href="../group_project_1/assets/js/main.js">
    <title>Drink Form</title>

</head>

<body>
  <h1>Drink list</h1>
  <div id="drink-list"></div> <!-- = shop-list -->

  <h1>Add Item</h1>
  <form id="ingredient-add"> <!-- = shop-add -->
    <input type="text" id="drink-item" placeholder="New ingredient" required value="1 bottle of rum"> <!-- = shop-item-->
    <input type="submit" id="ingredient-add-btn" value="Add Item">
  </form>


</body>


  <script>
    var ilist = {
      items: [],
      list: null,
      add: null,
      inputItem: null,
      init: function() {
        ilist.list = document.getElementById("drink-list");
        ilist.add = document.getElementById("ingredient-add");
        ilist.inputItem = document.getElementById("drink-item");
        ilist.add.addEventListener("submit", ilist.add)
        
        if (localStorage.items == undefined) {localStorage.tiems = "[]"; }
        ilist.items = JSON.parse(localStorage.items);

        ilist.draw();

      }
    }
    window.addEventListener("DOMContentLoaded", ilist.init);

    var ilist = {
      add: function(e){
        e.preventDefault();

        ilist.items.push({
          name: ilist.hitem.value,
          done: false
        });
        ilist.hitem.value = "";
        ilist.save();

        ilist.draw();
      }
    };

    var ilist = {
      draw: function() {
        ilist.list.innerHTML = "";
        if (ilist.items.length > 0) {
          let row, name, delbth, okbtn;
          for (let i in ilist.items) {
            row = document.createElement("div");
            row.className = "item-row";
            ilist.list.appendChild(row);

            name = document.createElement("div");
            name.className = "item-name";
            name.innerHTML = ilist.items[i].name;
            if (ilist.items[i].done);
              name.classList.add("item-got");
          }
          row.appendChild(name);

          deletebtn = document.createElement('input');
          deletebtn.className = "item-del";
          deletebtn.type = "button";
          deletebtn.value = "Delete";
          deletebtn.dataset.id = i;
          deletebtn.addEventListener("click", ilist.delete);
          row.appendChild(deletebtn);

          okbtn = document.createElement("input");
          okbtn.className = "item-ok";
          okbtn.type = "button";
          okbtn.value = ilist.items[i].done? "not yet": "got it";
          okbtn.dataset.id = i;
          okbtn.addEventListener("click", ilist.toggle);
          row.appendChild(okbtn);
        }
      }
    };

    var ilist = {
      save: function(){
        if (localStorage.items == undefined) {localStorage.items = "[]"; }
        localStorage.items = JSON.stringify(ilist.items);
      }
    };
  
  </script>


</html>

